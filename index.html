<!DOCTYPE html>
<html>
<head>
	<title>Fractals of Arkadiusz Jadczyk</title>
	<style type="text/css">
	#progress_bar {
		width: 0px;
		height: 35px;
		display: none;
		background-color: #333;
	}
	</style>
</head>
<body>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript" src="colors.js"></script>
	<script type="text/javascript" src="canvas.js"></script>
	<script type="text/javascript" src="matrices.js"></script>
	<script type="text/javascript" src="icosahedron.js"></script>
	<table>
		<tr>
			<td valign="top">
				<canvas id="fractalCanvas" width="600px" height="600px"></canvas>
			</td>
		</tr>
		<tr>
			<td valign="top">
				
			<table>
				<tr>
					<td valign="top">
						<p>
							<label>Alpha</label><br />
							<input type="text" id="alpha" value="0.77" /> <br />
							<label>Velocity</label><br />
							<input type="text" id="velocity" value="0.77" />
						</p>
					</td>
					<td valign="top">
						<p>
							<label>Iterations</label> <br />
							<input type="text" id="iterations" value="100000" />
						</p>
					</td>
					<td valign="top">
						<p>
							<label>Type</label> <br />
							<select id="fractal_type">
								<option selected="selected">Icosa</option>
								<option>Octa</option>
								<option>Para</option>

								<option>PlatonicCube</option>
								<option>PlatonicDodeca</option>
								<option>PlatonicIcosa</option>
								<option>PlatonicOcta</option>
								<option>PlatonicTetra</option>
							</select>

						</p>
					</td>
				</tr>
			</table>

			</td>
		</tr>
		<tr>
			<td align="right"><button id="generate">Generate</button></td>
		</tr>
		<tr>
			<td valign="top">
				<div id="progress_bar">&nbsp;</div>
			</td>
		</tr>
	</table>
	<script type="text/javascript">


		(function ($) {
			function updateVelocity() {
				var alpha = parseFloat( $('#alpha').val() );
				$('#velocity').val( 2 * alpha / Math.sqrt( 1 + Math.pow(alpha,2) ) );
			}
			$(function () {
				$canvas = document.getElementById("fractalCanvas");
				document.getElementById('generate').addEventListener( 'click', function () {
					generateFractal($canvas);
				}, false );
				$('#alpha').keyup(function () {
					updateVelocity();
				});
				updateVelocity();
				generateFractal( $canvas );

			});
		})(jQuery);
	</script>
</body>
</html>